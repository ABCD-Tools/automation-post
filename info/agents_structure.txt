ABCD Tools Agent Structure
==========================

ZIP File Structure (installer_<id>.zip)
--------------------------------------
agents/
├── logs/                    # Log files directory (empty initially)
├── modules-agents/          # Agent utilities and base classes
├── modules-client/          # Client agent code
│   ├── agent.js            # Main agent entry point
│   ├── config.js           # Configuration loader
│   ├── poller.js           # API polling logic
│   ├── encryption.js        # Encryption/decryption utilities
│   ├── logger.js             # Logging utilities
│   └── ...                  # Other client modules
├── script/                  # Batch scripts (helper scripts)
│   ├── setup_agents.bat    # Downloads Node.js, pnpm, installs deps
│   ├── check.bat           # Checks installation and registration
│   └── download_deps.bat   # Legacy: installs dependencies (now part of setup_agents.bat)
├── .env                     # Configuration file (DO NOT SHARE!)
├── package.json             # Node.js dependencies
├── start_agent.bat          # Main entry point - starts the agent
└── README.txt               # Installation and usage instructions

File Descriptions
-----------------
- start_agent.bat: Main entry point. Runs check.bat, conditionally runs setup_agents.bat, checks registration, then starts the agent.
- setup_agents.bat: Downloads Node.js and pnpm, then installs all dependencies (runs setup + download_deps).
- check.bat: Verifies Node.js, pnpm installation, checks .env configuration, and registration status.
- .env: Contains CLIENT_ID, API_TOKEN, ENCRYPTION_KEY, DECRYPTION_KEY, BROWSER_PATH, etc.
- package.json: Defines Node.js dependencies (puppeteer-core, axios, dotenv, etc.)

Installation Flow
-----------------
1. User extracts ZIP to a folder
2. User runs start_agent.bat
3. start_agent.bat runs check.bat
4. If Node.js/pnpm missing, runs setup_agents.bat
5. If dependencies missing, setup_agents.bat installs them
6. Checks client registration status
7. Starts agent (ping API, then polling loop)

Notes
-----
- error.log has been removed - logs now go to logs/ directory
- All batch files except start_agent.bat are in script/ directory
- start_agent.bat is in the root of agents/ directory
- The agent checks if already registered before attempting registration

